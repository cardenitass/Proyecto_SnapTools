@model IEnumerable<ProyectowebB.Entities.ProductoEnt>

@{
    ViewBag.Title = "Principal";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<main>
    <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">


                <img src="~/img/Imagen_SNAP_Mesa_de_trabajo_1.png" class="d-block w-100" alt="..." />
                <div class="carousel-caption d-none d-md-block">


                </div>
            </div>
            <div class="carousel-item">
                <img src="~/img/xd_Mesa_de_trabajo_1_copia.png" class="d-block w-100" alt="..." />
                <div class="carousel-caption d-none d-md-block">


                </div>
            </div>
            <div class="carousel-item">
                <img src="~/img/Imagen_SNAP_Mesa_de_trabajo_1_copia_2.png" class="d-block w-100" alt="..." />
                <div class="carousel-caption d-none d-md-block">


                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    @*A partir de aqui se muestran los productos*@

    <div class="container-fluid bg-transparent my-4 p-3" style="position: relative;">
        <div class="row row-cols-1 row-cols-xs-2 row-cols-sm-2 row-cols-lg-4 g-3">
            @foreach (var item in Model)
            {
                <div class="col">
                    <div class="card h-100 shadow-sm" style="border-radius: 20px;">
                        <img src="@item.ImagenURL" class="card-img-top">
                        <div class="card-body">
                            <div class="clearfix mb-3">
                                <span class="float-start badge rounded-pill bg-primary">@item.Nombre</span> <span class="float-end price-hp">₡@item.Precio</span>
                            </div>
                            <h5 class="card-title">@item.Descripcion</h5>
                            <br />
                            <div class="mb-3">
                                <div class="input-group">
                                    <input type="number" class="form-control" id="Cnt-@item.IdProducto" style="width: 80px;" placeholder="Cantidad" aria-label="Cantidad"
                                           aria-describedby="button-addon2" onkeypress="return isNumberKey(event);" min="1">
                                    <button class="btn btn-outline-warning input-group-text" style="width: 40px;" type="button" id="button-addon2" onclick="incrementarCantidad('Cnt-@item.IdProducto')"><i class="fas fa-plus"></i></button>
                                </div>
                            </div>
                            <div class="text-center my-4">
                                <button class="btn btn-warning mt-3" onclick="ActualizarCarrito(@item.IdProducto, @item.Stock)"><i class="fas fa-shopping-cart"></i> Agregar al carrito</button>
                                <p class="text-muted mt-2">Cantidad disponible: @item.Stock</p>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>

</main>

<script src="~/Funciones/Principal.js"></script>
